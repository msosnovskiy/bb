window.rbgShiftSlider=function(e){(e=e||{}).slideImages=e.hasOwnProperty("slideImages")?e.slideImages:[],e.stageWidth=e.hasOwnProperty("stageWidth")?e.stageWidth:1920,e.stageHeight=e.hasOwnProperty("stageHeight")?e.stageHeight:1080,e.spinnerElement=e.hasOwnProperty("spinnerElement")?e.spinnerElement:null,e.displacementImage=e.hasOwnProperty("displacementImage")?e.displacementImage:"",e.fullScreen=!e.hasOwnProperty("fullScreen")||e.fullScreen,e.transitionDuration=e.hasOwnProperty("transitionDuration")?e.transitionDuration:.25,e.transitionGhostDuration=e.hasOwnProperty("transitionGhostDuration")?e.transitionGhostDuration:.25,e.transitionFilterIntensity=e.hasOwnProperty("transitionFilterIntensity")?e.transitionFilterIntensity:350,e.transitioSpriteIntensity=e.hasOwnProperty("transitioSpriteIntensity")?e.transitioSpriteIntensity:2,e.mouseDispIntensity=e.hasOwnProperty("mouseDispIntensity")?e.mouseDispIntensity:3,e.nav=!e.hasOwnProperty("nav")||e.nav,e.navElement=e.hasOwnProperty("navElement")?e.navElement:".scene-nav",e.interactive=!e.hasOwnProperty("interactive")||e.interactive,e.autoPlay=!e.hasOwnProperty("autoPlay")||e.autoPlay,e.autoPlaySpeed=e.hasOwnProperty("autoPlaySpeed")?e.autoPlaySpeed:3e3;var t=document.getElementById("rbgShiftSlider");PIXI.utils.skipHello();var n,i,a,r,s,o,l,h=new PIXI.Container,p=PIXI.autoDetectRenderer(e.stageWidth,e.stageHeight,{transparent:!0}),u=new PIXI.Container,I=[],w=[],d=[],c=[],y=[],m=[];const P={x:0,y:0};var g,v,f,x=0,D=0,O=0,S=0,X=0;function F(t){TweenMax.set(P,{x:0,ease:Power0.easeOut}),(f=new TimelineMax({onStart:function(){TweenMax.to(P,e.transitionGhostDuration,{x:screen.width,ease:Power0.easeOut})},onComplete:function(){X=t,!0===e.interactive&&function(){if(cancelAnimationFrame(v),!f.isActive()){for(var t=0,n=d.length;t<n;t++)m[t].x=0,m[t].y=0,y[t].scale.x=0,y[t].scale.y=0;u.on("mousemove",i).on("touchmove",i),a()}function i(e){x=e.data.global.x,D=e.data.global.y}function a(){if(g=requestAnimationFrame(a),P.x>=screen.width){O+=(x-O)/e.mouseDispIntensity,S+=(D-S)/e.mouseDispIntensity;for(var t=0,n=d.length;t<n;t++)y[t].scale.x=O-m[t].x,y[t].scale.y=S-m[t].y,m[t].position.x=O,m[t].position.y=S}else cancelAnimationFrame(g)}}()},onUpdate:function(){O+=(P.x-O)/3,S+=(P.x-S)/3;for(var t=0,n=d.length;t<n;t++)y[t].scale.x=Math.atan(O-m[t].x)*(f.progress()*e.transitionFilterIntensity),m[t].position.x=S*(f.progress()*e.transitionSpriteIntensity)}})).to([I[0],I[1],I[2]],e.transitionDuration,{alpha:0,ease:Power2.easeOut},e.transitionDuration).add((function(){e.spinnerElement.classList.add("spinner_hidden");for(var n=0;n<e.slideImages.length;++n)if(n==t)for(var i=0,a=d.length;i<a;i++)I[i].texture=w[n],f.to(I[i],e.transitionDuration,{alpha:1,ease:Power2.easeOut},e.transitionDuration)}),e.transitionDuration)}t.appendChild(p.view),h.addChild(u),!0===e.fullScreen?(p.view.style.objectFit="cover",p.view.style.width="100%",p.view.style.height="100%",p.view.style.top="50%",p.view.style.left="50%",p.view.style.webkitTransform="translate( -50%, -50% ) scale(1.2)",p.view.style.transform="translate( -50%, -50% ) scale(1.2)"):(p.view.style.maxWidth="100%",p.view.style.objectFit="cover"),(n=new PIXI.ticker.Ticker).autoStart=!0,n.add((function(e){p.render(h)})),u.interactive=!0,function(){(i=new PIXI.filters.ColorMatrixFilter).matrix=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],(a=new PIXI.filters.ColorMatrixFilter).matrix=[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],(r=new PIXI.filters.ColorMatrixFilter).matrix=[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0],c.push(i,a,r),(s=new PIXI.Container).position.x=0,(o=new PIXI.Container).position.x=0,(l=new PIXI.Container).position.x=0,d.push(s,o,l);for(var t=0;t<e.slideImages.length;++t)w[t]=new PIXI.Texture.fromImage(e.slideImages[t]);t=0;for(var n=d.length;t<n;t++){u.addChild(d[t]),texture=new PIXI.Texture.fromImage(e.displacementImage),m.push(new PIXI.Sprite(texture)),y.push(new PIXI.filters.DisplacementFilter(m[t]));var h=new PIXI.Sprite(w[0]);I.push(h),I[t].width=p.view.width,I[t].height=p.view.height,I[t].anchor.set(.5),I[t].x=p.view.width/2,I[t].y=p.view.height/2,I[t].alpha=0,d[t].addChild(m[t],I[t]),d[t].filters=[y[t],c[t]],y[t].scale.x=0,y[t].scale.y=0,y[t].autoFit=!0}m[0].anchor.set(0),m[1].anchor.set(.5),m[2].anchor.set(.3),d[1].filters[1].blendMode=PIXI.BLEND_MODES.ADD,d[2].filters[1].blendMode=PIXI.BLEND_MODES.ADD}(),!0===e.autoPlay?(Date.now(),F(X=0),setInterval((function(){(X+=1)===e.slideImages.length?F(X=0):F(X)}),e.autoPlaySpeed)):F(0)};